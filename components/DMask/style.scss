@import "../../src/styles/font";
@import "../../src/styles/position";

@mixin mask() {
  display: block;
}

@mixin maskShow() {
  &__view {
    @include ellipsis;
    display: block;
    position: relative;
    width: 100%;
  }

  &__mask,
  &__passed,
  &__character {
    cursor: auto;
    opacity: 0;
    position: relative;
    text-transform: lowercase;
  }

  &__mask {
    --basic-text-opacity: var(--ms__opacity, var(--opacity-scrim));
  }

  &__passed {
    color: transparent;
  }

  &__character {
    --basic-text-opacity: var(--ms__opacity, var(--opacity-surface-high));

    &.status-error {
      --basic-text: var(--error-type1);
      z-index: 8;
    }
  }

  &:focus-within &,
  &.status-character & {
    &__mask,
    &__passed,
    &__character {
      opacity: 1;
    }
  }
}

@mixin maskInput() {
  &__input {
    @include absoluteFull;
    --basic-text-opacity: var(--ms__opacity, var(--opacity-surface-medium));
    text-align: inherit;
    width: 100%;
    z-index: 4;
    @content;

    &:focus::placeholder {
      color: transparent;
    }

    &:-webkit-autofill {
      transition: background-color 5000s ease-in-out 0s;
    }
  }
}

@mixin maskInit() {
  @include mask;
  @include maskShow;
  @include maskInput;
}
